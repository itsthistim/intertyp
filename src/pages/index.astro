---
import Layout from "@/layouts/Layout.astro";
import Nav from "@/components/Nav.astro";
import Footer from "@/components/Footer.astro";

import Header from "@/components/Header.astro";
import Products from "@/components/Products.astro";
import Projects from "@/components/Projects.astro";
---

<script>
	document.addEventListener("astro:page-load", () => {
		let videoIndex = 0;
		const videoElement = document.querySelector("#header video") as HTMLVideoElement;
		const videoSources = document.querySelectorAll("#header video source") as NodeListOf<HTMLSourceElement>;

		function changeVideo() {
			videoIndex = (videoIndex + 1) % videoSources.length;
			const nextSource = videoSources[videoIndex];
			if (videoElement && nextSource) {
				videoElement.prepend(nextSource);
				videoElement.load();
				videoElement.play();
			}
		}

		setInterval(changeVideo, 5000);
	});
</script>

<Layout title="Intertyp GmbH – Ihr Spezialist für Außenwerbung">
	<Nav />
	<Header />
	<main>
		<Products />
		<Projects />
	</main>
	<Footer />
</Layout>

<style>
	main {
		min-height: 60vh;
		margin: 4rem auto;
		padding: 0;
		max-width: 1200px;
	}

	h2 {
		text-align: center;
		font-size: 2.2rem;
		margin-top: 2rem;
	}

	h2 span {
		color: rgb(var(--clr-text));
		text-decoration: underline rgb(var(--clr-primary)) 2px;
		text-underline-offset: 3px;
	}
</style>
