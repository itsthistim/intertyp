---
import Layout from "@/layouts/Layout.astro";
import Nav from "@/components/Nav.astro";
import Footer from "@/components/Footer.astro";
import Button from "@/components/ui/Button.astro";
import Details from "@/components/Details.astro";

import pylonImg from "@/assets/images/pylon_mc3.jpg";
import innenbschrImg from "@/assets/images/innenbeschriftung.jpg";
import pokaleImg from "@/assets/images/Pokale.jpg";

import plotterVid1 from "@/assets/videos/plotter 1.mp4";
import plotterVid2 from "@/assets/videos/plotter 2.mp4";
---

<script>
	document.addEventListener("astro:page-load", () => {
		let videoIndex = 0;
		const videoElement = document.querySelector("#header video") as HTMLVideoElement;
		const videoSources = document.querySelectorAll("#header video source") as NodeListOf<HTMLSourceElement>;

		function changeVideo() {
			videoIndex = (videoIndex + 1) % videoSources.length;
			const nextSource = videoSources[videoIndex];
			if (videoElement && nextSource) {
				videoElement.prepend(nextSource);
				videoElement.load();
				videoElement.play();
			}
		}

		setInterval(changeVideo, 5000);
	});
</script>

<Layout title="Intertyp GmbH – Ihr Spezialist für Außenwerbung">
	<Nav />
	<main>
		<section id="header">
			<video autoplay loop muted playsinline>
				<source src={plotterVid1} type="video/mp4" />
				<source src={plotterVid2} type="video/mp4" />
			</video>
			<div class="header-content">
				<h1>Schilder, Stempel, Pokale und mehr</h1>
				<p>Wir sind Ihr Partner für individuelle Beschriftungen und Werbetechnik.</p>
				<Button forward>Jetzt anfragen</Button>
			</div>
		</section>

		<section id="products">
			<h2>Unsere <span>Dienstleistungen</span></h2>

			<Details heading="Innen- und Außenbeschriftung" side="left" img={innenbschrImg}>
				<p>
					Für Ihre Beschriftungen im Innen- und Außenbereich bieten wir maßgeschneiderte Lösungen in Form von Folierungen, Schildern und Buchstaben. Unsere Werbetechnik bringt Ihre
					Unternehmensidentität sichtbar und einzigartig zur Geltung.
				</p>
				<p>Wir beraten Sie gerne und erstellen Ihnen ein individuelles Angebot.</p>
				<Button variant="secondary" forward>Mehr erfahren</Button>
			</Details>

			<Details heading="Schilder, Stempel, Pokale" side="right" img={pokaleImg}>
				<p>
					Von Geschoss- und Türbeschriftungen, Verkehrszeichen, ÖNORM- und Brandschutzschildern über Stempel für Büro und Werkstatt bis hin zu Pokalen – wir bieten Ihnen alles aus
					einer Hand.
				</p>
				<Button variant="secondary" forward>Mehr erfahren</Button>
			</Details>

			<Details heading="Pylon- und Lichtwerbung" side="left" img={pylonImg}>
				<p>
					Pylone setzen ein starkes Zeichen – sie dienen als Orientierungshilfe, Firmenhinweis oder Blickfang im Außenbereich. Ob ein- oder doppelseitig, freistehend oder
					integriert: Wir gestalten und fertigen Ihre Pylone individuell nach Ihren Anforderungen.
				</p>
				<p>Wir machen Ihnen gerne ein individuelles Angebot.</p>
				<Button variant="secondary" forward>Mehr erfahren</Button>
			</Details>
		</section>

		<section id="projects"></section>
		<Footer />
	</main>
</Layout>

<style>
	main {
		min-height: 60vh;
		margin: 0 auto;
		padding: 0;
	}

	h2 {
		text-align: center;
		font-size: 2.2rem;
		margin-top: 2rem;
	}

	h2 span {
		color: rgb(var(--clr-text));
		text-decoration: underline rgb(var(--clr-primary)) 2px;
		text-underline-offset: 3px;
	}

	#header {
		margin-top: 2rem;
		display: flex;
		align-items: center;
		justify-content: center;
		flex-direction: column;
		position: relative;
		overflow: hidden;
	}

	#header video {
		width: 100vw;
		z-index: 1;
		max-height: 50vh;
		object-fit: cover;
	}

	#header::before {
		content: "";
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		background: linear-gradient(to bottom, rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0.5) 50%, rgba(0, 0, 0, 0.7) 100%);
		z-index: 2;
	}

	#header .header-content {
		position: absolute;
		transform: translate(-50%, -50%);
		top: 50%;
		left: 50%;
		z-index: 3;
		text-align: center;
		color: white;
		max-width: 800px;
		line-height: 1.1;
	}

	#header .header-content h1 {
		font-size: 5rem;
		margin-bottom: 1rem;
	}

	#header .header-content p {
		font-size: 1.5rem;
		margin-bottom: 2rem;
	}

	#products,
	#projects {
		max-width: 1200px;
		margin: 2rem auto;
		padding: 0 2rem;
	}

	#products p {
		margin-bottom: 1rem;
	}
</style>
